# $Id$:

## AUTO DETECTION OF PLATFORM AND ARCHITECTURE
VISTA_OSTYPE ?= $(shell uname | tr '[:lower:]' '[:upper:]')
VISTA_HWARCH ?= $(shell uname -m | tr '[:lower:]' '[:upper:]')

## PLATFORM SPECIFIC SETTINGS
include Makefile.$(VISTA_OSTYPE)

#======================
#== PROJECT SPECIFIC ==
#======================

## APPLICATION'S NAME
APPNAME=VistaWiimoteDriver

## APPLICATION TYPE
# possible values are 
# LIB: library 
# SO:  shared object
# BIN: binary/executable
# determines the naming scheme of the produced output file
# example: APPNAME=VistaKernel 
# LIB: libVistaKernel[D].a
# SO:  libVistaKernel[D].so
# BIN:    VistaKernel[D]
TYPE ?= SO

## BASE DIRECTORY
# the directory relative to which the header files are collected
# before copying to the $DISTDIR/include/$INCPATH folder.
# default: ..
BASEDIR=../..

## DISTRIBUTION DIRECTORY
# the directory where the final libs/headers are copied to
DISTDIR=../../../../dist/$(SYSTEM).$(VISTA_HWARCH)

## INCLUDE PATH
# the relative path under which the headers of this module 
# will be placed.
INCPATH=VistaDeviceDrivers/WiimoteDriver

## BUILT DIRECTORY
# the directory (tree) where the temporary .o files are placed during the build
BUILTDIR=./built

## OUTPUT DIRECTORIES
# the list of directories which are to be created before the build
SUBDIRS =   ${BUILTDIR} 

## SOURCE DIRECTORY LIST
# add your directories containing source-files here
SRCDIRS = ../..

## LINK LIBRARIES
# add the libs, library and include directories for those libs which are
# shared on all platforms. platform-specific stuff goes to ADD* in
# Makefile.$(VISTA_OSTYPE)

LIBS_DEBUG      = -lwiiuse
LIBS_RELEASE    = -lwiiuse

WIIUSE_ROOT ?= /usr

LIBDIRS_DEBUG   = -L$(DISTDIR)/lib -L$(WIIUSE_ROOT)/lib
LIBDIRS_RELEASE = -L$(DISTDIR)/lib -L$(WIIUSE_ROOT)/lib

INCLUDES_DEBUG   = -I$(DISTDIR)/include -I$(WIIUSE_ROOT)/include
INCLUDES_RELEASE = -I$(DISTDIR)/include -I$(WIIUSE_ROOT)/include

## BUILD SYSTEM INCLUDES
# include mandatory Makefiles:
# Makefile.COMMON (for path/name construction)
# Makefile.build  (for build rules)

include ../../../../VistaBuild/Makefile.COMMON
include ../../../../VistaBuild/Makefile.build
